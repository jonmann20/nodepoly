<!DOCTYPE html>
<html>
<head>
	<title>Node & Polymer Demo</title>

	<style>
		paper-tabs {
			width: 300px;
		}

		paper-tab[link] a {
			/* These mixins (from iron-flex-layout) center the link text.
			@apply(--layout-horizontal);
			@apply(--layout-center-center);
			*/
			text-align: center;
			color: #fff;
			text-decoration: none;
		}
	</style>

	<!-- Iron imports -->
	<link rel="import" href="bower_components/iron-icons/iron-icons.html">
	<link rel="import" href="bower_components/iron-pages/iron-pages.html">
	<link rel="import" href="bower_components/iron-ajax/iron-ajax.html">

	<!-- Paper imports -->
	<link rel="import" href="bower_components/paper-button/paper-button.html">
	<link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html">
	<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
	<link rel="import" href="bower_components/paper-input/paper-input.html">
	<link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
	<link rel="import" href="bower_components/paper-menu-button/paper-menu-button.html">
	<link rel="import" href="bower_components/paper-menu/paper-menu.html">
	<link rel="import" href="bower_components/paper-item/paper-item.html">
	<link rel="import" href="bower_components/paper-tabs/paper-tabs.html">

	<!-- Custom imports -->
	<link rel="import" href="elts/car-data.html">
</head>
<body>
	<template is="dom-bind" id="app">
		<paper-toolbar class="tall">
			<span class="title">Node + Polymer Demo</span>
			<paper-tabs attr-for-selected="data-route" selected="{{route}}" class="bottom self-end">
				<paper-tab data-route="home" link><a href="/">Home</a></paper-tab>
				<paper-tab data-route="away" link><a href="/away">Away</a></paper-tab>
			</paper-tabs>
		</paper-toolbar>

		<car-data car="{{car}}"></car-data>

		<iron-pages	attr-for-selected="data-route" selected="{{route}}">
			<!-- TODO: load via AJAX -->

			<section data-route="home">
				<h1>Home</h1>

				<paper-input label="Car horsepower" value="{{car.hp}}"></paper-input>
				<paper-checkbox checked="{{car.isSportModel}}" disabled>Sport Model</paper-checkbox>
				<paper-button raised>Submit</paper-button>
			</section>
			<section data-route="away">
				<h1>Away</h1>
			</section>
		</iron-pages>
	</template>

	<script src="bower_components/page/page.js"></script>
	<script src="js/router.js"></script>

	<load-car></load-car>
	<dom-module id="load-car">
		<template>
			<iron-ajax
				auto
				url="/car"
				handle-as="json"
				on-response="handleResponse"
				debounce-duration="300"></iron-ajax>
		</template>

		<script>
			Polymer({
				is: 'load-car',
				handleResponse: function(request) {
					app.car = request.detail.response;
				}
			});
		</script>
	</dom-module>



	<!--mock data-->
	<!--<notes-data></notes-data>-->
	<!--<dom-module id="notes-data">-->
	<!--	<script>-->
	<!--		Polymer({-->
	<!--			is: 'notes-data',-->
	<!--			ready: () => {-->
	<!--				app.notes = [-->
	<!--					{-->
	<!--						id: 0,-->
	<!--						title: 'Have you visited your primary care physician?'-->
	<!--					},-->
	<!--					{-->
	<!--						id: 1,-->
	<!--						title: 'Have you taken your medication this morning?'-->
	<!--					},-->
	<!--					{-->
	<!--						id: 2,-->
	<!--						title: 'How many drinks have you had in the last week?',-->
	<!--						answerPositive: '0-3',-->
	<!--						answerNegative: '3+'-->
	<!--					}-->
	<!--				];-->
	<!--			}-->
	<!--		});-->
	<!--	</script>-->
	<!--</dom-module>-->
</body>
</html>